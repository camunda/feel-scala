"use strict";(self.webpackChunkfeel_scala=self.webpackChunkfeel_scala||[]).push([[8757],{4863:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7462),l=n(7294),o=n(5671),r=n(3746);const s=e=>{let{children:t,onChange:n,language:s}=e;const i=(0,l.useRef)(null),[u,c]=(0,l.useState)(t),p=(0,l.useCallback)((e=>{const t=e.slice(0,-1);c(t),n(t)}),[]);return(0,o.Y)(i,p,{indentation:2}),l.createElement(r.ZP,(0,a.Z)({},r.lG,{code:u,language:s}),(e=>{let{className:t,style:n,tokens:a,getTokenProps:o}=e;return l.createElement("pre",{className:t,style:n,ref:i},a.map(((e,t)=>l.createElement(l.Fragment,{key:t},e.filter((e=>!e.empty)).map(((e,t)=>l.createElement("span",o({token:e,key:t})))),"\n"))))}))}},4294:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7294),l=n(9669),o=n.n(l),r=n(4863),s=n(9286),i=n(2389);const u=e=>{let{defaultExpression:t,feelContext:n,metadata:l,onResultCallback:u,onErrorCallback:c}=e;const p=function(){let e={};if((0,i.Z)()){const t=window.location.search,n=new URLSearchParams(t);n.has("expression")&&(e.expression=N(n.get("expression"))),n.has("context")&&(e.context=N(n.get("context")))}return e}();let d=p.context??n;d&&(d=JSON.stringify(JSON.parse(d),null,2));const[h,m]=a.useState(p.expression??t),[g,f]=a.useState(d),[k,v]=a.useState("<click 'Evaluate' to see the result of the expression>"),[x,b]=a.useState(null),[E,C]=a.useState(null),y=/^.+(?<line>\d+):(?<position>\d+).+$/gm,w=/^.+at position (?<position>\d+)$/gm;function S(e,t){v(null),b(e),C(t),c&&c(e)}function Z(e){return btoa(e)}function N(e){return atob(e)}return a.createElement("div",null,a.createElement("h2",null,"Expression"),a.createElement(r.Z,{onChange:m,language:"js"},h),n&&a.createElement("div",null,a.createElement("h2",null,"Context"),a.createElement("i",null,"A JSON document that is used to resolve ",a.createElement("strong",null,"variables")," ","in the expression."),a.createElement(r.Z,{onChange:f,language:"json"},g)),a.createElement("button",{onClick:function(){try{v("<evaluating the expression...>"),C(null);!function(e){o().post("https://feel.upgradingdave.com/api/v1/feel/evaluate",{expression:h,context:e,metadata:{...l}},{headers:{accept:"*/*","content-type":"application/json"}}).then((e=>{var t;if(null!=e&&null!=(t=e.data)&&t.error){var n,a;const t=e.data.error,l=y.exec(t);S({message:t,line:null==l||null==(n=l.groups)?void 0:n.line,position:null==l||null==(a=l.groups)?void 0:a.position},e.data.warnings)}else!function(e){b(null);const t=JSON.stringify(e.result);v(t),e.warnings.length>=1&&C(e.warnings);u&&u(t)}(e.data)}))}(n&&0!==g.trim().length?JSON.parse(g):{})}catch(t){var e;const n=w.exec(t.message);S({message:`failed to parse context: ${t.message}`,position:null==n||null==(e=n.groups)?void 0:e.position})}},className:"button button--primary button--lg"},"Evaluate"),a.createElement("button",{onClick:function(){navigator.clipboard.writeText(function(){const e=window.location.href.split("?")[0],t=window.location.search,n=new URLSearchParams(t);return n.set("expression",Z(h)),g&&n.set("context",Z(g)),n.set("expression-type","expression"),e+"?"+n}())},className:"button button--secondary button--lg",title:"Copy an URL to the clipboard for sharing the expression",style:{"margin-left":"10px"}},"Share"),a.createElement("br",null),a.createElement("br",null),a.createElement("h2",null,"Result"),a.createElement(s.Z,{title:(()=>{const e=null!=x&&x.line?` on line ${x.line}`:"",t=null!=x&&x.position?` at position ${x.position}`:"";return x&&`Error${e}${t}`})(),language:"json"},k||(null==x?void 0:x.message)),a.createElement("br",null),a.createElement("h2",null,"Warnings"),a.createElement(s.Z,null,(null==E?void 0:E.map(((e,t)=>a.createElement("li",{key:t},"[",e.type,"] ",e.message))))||"<none>"))}},6747:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var a=n(7462),l=(n(7294),n(3905)),o=n(4294),r=n(6518),s=n.n(r);const i={id:"chapter-6",title:"Chapter 6"},u=void 0,c={unversionedId:"learn/challenge/chapter-6",id:"version-1.18/learn/challenge/chapter-6",title:"Chapter 6",description:"Zee took a short rest and continued walking to CamundaCon. On the road, he passed mountains,",source:"@site/versioned_docs/version-1.18/learn/challenge/chapter-6.mdx",sourceDirName:"learn/challenge",slug:"/learn/challenge/chapter-6",permalink:"/feel-scala/docs/learn/challenge/chapter-6",draft:!1,editUrl:"https://github.com/camunda/feel-scala/edit/main/docs/versioned_docs/version-1.18/learn/challenge/chapter-6.mdx",tags:[],version:"1.18",frontMatter:{id:"chapter-6",title:"Chapter 6"},sidebar:"Learn",previous:{title:"Chapter 5",permalink:"/feel-scala/docs/learn/challenge/chapter-5"}},p={},d=[],h={toc:d};function m(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Zee took a short rest and continued walking to CamundaCon. \ud83c\udde9\ud83c\uddea On the road, he passed mountains,\nfields, and woods. \u26f0\ufe0f \ud83c\udf33 After a few days, he realized that he walked in cycles.\n\ud83d\ude35 Unsure about right way, he looks at the trail markers. \ud83d\udfe5\n\ud83d\udd35 \ud83d\udd36"),(0,l.kt)("p",null,"Can you help him to choose the right way to Berlin?"),(0,l.kt)(o.Z,{defaultExpression:s()`
    // use list operators and return the right route
    routes`,feelContext:'{"routes": [ {"route":"red", "stops":["Cologne", "Frankfurt", "Nuremberg", "Munich"]}, {"route":"blue", "stops":["Cologne", "Paderborn", "Hanover", "Berlin"]}, {"route":"yellow", "stops":["Cologne", "M\xfcnster", "Bremen", "Hamburg"]}]}',metadata:{page:"challenge-6"},mdxType:"LiveFeel"}),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Solution"),(0,l.kt)("div",null,(0,l.kt)("div",null,"Zee follows the blue route and reaches CamundaCon just-in-time. He is happy to be there and meet the community."),(0,l.kt)("br",null),(0,l.kt)("pre",{title:"Expression"},'routes["Berlin" in stops][1].route'))))}m.isMDXComponent=!0}}]);